import{s as et,n as U,d as st,a as F,e as z}from"../chunks/scheduler.CrsDffe0.js";import{S as at,i as ot,e as x,l as q,s as w,f as T,n as O,o as H,k as u,h as I,v as A,j as m,p as y,A as ut,q as G,B as S,c as lt,a as nt,m as rt,t as dt,b as ct,d as it,g as D}from"../chunks/index.DSWBlzAv.js";import{g as ft,a as J}from"../chunks/spread.CgU5AtxT.js";import{P as _t}from"../chunks/Page.CFE2PXPC.js";import{e as M,t as mt}from"../chunks/Footer.Dfvou4KW.js";import{p as pt}from"../chunks/metadata.B5lOiQd6.js";function K(s,t,c){const n=s.slice();return n[4]=t[c],n}function Q(s,t,c){const n=s.slice();return n[7]=t[c],n}function W(s,t,c){const n=s.slice();return n[10]=t[c],n}function X(s){let t,c=s[10]+"",n;return{c(){t=x("th"),n=q(c)},l(a){t=T(a,"TH",{});var e=O(t);n=H(e,c),e.forEach(u)},m(a,e){m(a,t,e),y(t,n)},p:U,d(a){a&&u(t)}}}function Y(s){let t,c=s[7]+"",n;return{c(){t=x("td"),n=q(c)},l(a){t=T(a,"TD",{});var e=O(t);n=H(e,c),e.forEach(u)},m(a,e){m(a,t,e),y(t,n)},p:U,d(a){a&&u(t)}}}function Z(s){let t,c,n=M(Object.values(s[4])),a=[];for(let e=0;e<n.length;e+=1)a[e]=Y(Q(s,n,e));return{c(){t=x("tr");for(let e=0;e<a.length;e+=1)a[e].c();c=w()},l(e){t=T(e,"TR",{});var i=O(t);for(let o=0;o<a.length;o+=1)a[o].l(i);c=I(i),i.forEach(u)},m(e,i){m(e,t,i);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(t,null);y(t,c)},p(e,i){if(i&2){n=M(Object.values(e[4]));let o;for(o=0;o<n.length;o+=1){const p=Q(e,n,o);a[o]?a[o].p(p,i):(a[o]=Y(p),a[o].c(),a[o].m(t,c))}for(;o<a.length;o+=1)a[o].d(1);a.length=n.length}},d(e){e&&u(t),S(a,e)}}}function ht(s){let t,c=s[0].metadataTable+"",n,a,e,i,o,p,h,f,C,v=s[0].download+"",E,L,P,j,$=M(Object.keys(s[1][0])),l=[];for(let r=0;r<$.length;r+=1)l[r]=X(W(s,$,r));let _=M(s[1]),g=[];for(let r=0;r<_.length;r+=1)g[r]=Z(K(s,_,r));return{c(){t=x("h2"),n=q(c),a=w(),e=x("div"),i=x("table"),o=x("tr");for(let r=0;r<l.length;r+=1)l[r].c();p=w();for(let r=0;r<g.length;r+=1)g[r].c();h=w(),f=x("div"),C=x("button"),E=q(v),L=q(" CSV"),this.h()},l(r){t=T(r,"H2",{});var b=O(t);n=H(b,c),b.forEach(u),a=I(r),e=T(r,"DIV",{class:!0});var d=O(e);i=T(d,"TABLE",{class:!0});var k=O(i);o=T(k,"TR",{});var V=O(o);for(let R=0;R<l.length;R+=1)l[R].l(V);V.forEach(u),p=I(k);for(let R=0;R<g.length;R+=1)g[R].l(k);k.forEach(u),d.forEach(u),h=I(r),f=T(r,"DIV",{class:!0});var N=O(f);C=T(N,"BUTTON",{class:!0});var B=O(C);E=H(B,v),L=H(B," CSV"),B.forEach(u),N.forEach(u),this.h()},h(){A(i,"class","metadata-table"),A(e,"class","metadata-table-container svelte-1akrh8d"),A(C,"class","default-button"),A(f,"class","button-container")},m(r,b){m(r,t,b),y(t,n),m(r,a,b),m(r,e,b),y(e,i),y(i,o);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(o,null);y(i,p);for(let d=0;d<g.length;d+=1)g[d]&&g[d].m(i,null);m(r,h,b),m(r,f,b),y(f,C),y(C,E),y(C,L),P||(j=ut(C,"click",s[2]),P=!0)},p(r,[b]){if(b&1&&c!==(c=r[0].metadataTable+"")&&G(n,c),b&2){$=M(Object.keys(r[1][0]));let d;for(d=0;d<$.length;d+=1){const k=W(r,$,d);l[d]?l[d].p(k,b):(l[d]=X(k),l[d].c(),l[d].m(o,null))}for(;d<l.length;d+=1)l[d].d(1);l.length=$.length}if(b&2){_=M(r[1]);let d;for(d=0;d<_.length;d+=1){const k=K(r,_,d);g[d]?g[d].p(k,b):(g[d]=Z(k),g[d].c(),g[d].m(i,null))}for(;d<g.length;d+=1)g[d].d(1);g.length=_.length}b&1&&v!==(v=r[0].download+"")&&G(E,v)},i:U,o:U,d(r){r&&(u(t),u(a),u(e),u(h),u(f)),S(l,r),S(g,r),P=!1,j()}}}function gt(s,t,c){let n;st(s,mt,o=>c(0,n=o));let{metadata:a=pt}=t;const e=a.map(o=>{const p={};for(let[h,f]of Object.entries(o))/^_/.test(h)||(p[h]=f);return p});function i(){const o=",";let p=[Object.keys(e[0]).join(o)];for(let C of e)p.push(Object.values(C).map(v=>new RegExp(`${o}`).test(v)?`"${v}"`:v).join(o));p=p.join(`
`);const h=document.createElement("a"),f=new Blob([p],{type:"text/plain"});h.href=URL.createObjectURL(f),h.download="metadata.csv",h.click(),URL.revokeObjectURL(h.href)}return s.$$set=o=>{"metadata"in o&&c(3,a=o.metadata)},[n,e,i,a]}class bt extends at{constructor(t){super(),ot(this,t,gt,ht,et,{metadata:3})}}function vt(s){let t,c="Metadatos",n,a,e="En esta sección se encuentran los metadatos de la colección. Pueden descargarse y usarse libremente.",i,o,p="Protocolo",h,f,C="Este es el protocolo que especifica la construcción de los datos de la colección:",v,E,L="<thead><tr><th>Dato</th> <th>Descripción</th> <th>Tipo</th></tr></thead> <tbody><tr><td>pid</td> <td>Identificador único</td> <td>id</td></tr> <tr><td>label</td> <td>Nombre de la obra. Iniciales con mayúsculas</td> <td>texto</td></tr> <tr><td>autores</td> <td>Autores de la obra separados por comas. Iniciales con mayúsculas, incluir acentos</td> <td>categórico</td></tr> <tr><td>descripcion</td> <td>Descripción corta de la obra</td> <td>texto</td></tr> <tr><td>grupo</td> <td>Grupo o colectivo que produjo o editó la obra</td> <td>categórico</td></tr> <tr><td>editores</td> <td>Editores de la obra separados por comas. Iniciales con mayúsculas, incluir acentos</td> <td>categórico</td></tr> <tr><td>fecha</td> <td>Año de publicación. Escrito en número completo (Ej. 1990)</td> <td>ordinal</td></tr> <tr><td>ciudad</td> <td>Ciudad de publicación. Iniciales con mayúsculas, incluir acentos</td> <td>categórico</td></tr> <tr><td>conseguido</td> <td>Forma de adquisición de la obra. (Ej. regalo, compra, intercambio y persona o lugar)</td> <td>texto</td></tr> <tr><td>tipo_principal</td> <td>Tipo de contenido principal: (Ilustración, Texto, Cómic Fotografía)</td> <td>categórico</td></tr> <tr><td>nota</td> <td>Información adicional</td> <td>texto</td></tr> <tr><td>medio_impresion</td> <td>Medio de impresión principal: (Offset, Digital, Fotocopia, Risografía, Tipos Móviles)</td> <td>categórico</td></tr> <tr><td>intervencion_manual</td> <td>¿Tiene la obra algún tipo de intervención manual?: (sí, no)</td> <td>categórico</td></tr> <tr><td>portada_color</td> <td>¿Tiene la obra portada full color, duotono o monotono?: (full, duo, tri, no)</td> <td>categórico</td></tr> <tr><td>portada_especial</td> <td>¿Usa la portada una técnica de impresión diferente al contenido?: (No o especificar)</td> <td>categórico</td></tr> <tr><td>internas_color</td> <td>¿Tienen la páginas internas full color, duotono o monotono?: (full, duo, tri, no)</td> <td>categórico</td></tr> <tr><td>papel_portada_color</td> <td>¿Tiene la portada un papel de color diferente al blanco?: (sí, no)</td> <td>categórico</td></tr> <tr><td>compaginado</td> <td>Formato de compaginación: (Cuadernillo, Periódico, Ruanita, Plegable)</td> <td>categórico</td></tr></tbody>",P,j,$;return j=new bt({}),{c(){t=x("h1"),t.textContent=c,n=w(),a=x("p"),a.textContent=e,i=w(),o=x("h2"),o.textContent=p,h=w(),f=x("p"),f.textContent=C,v=w(),E=x("table"),E.innerHTML=L,P=w(),lt(j.$$.fragment)},l(l){t=T(l,"H1",{"data-svelte-h":!0}),D(t)!=="svelte-rtrtq6"&&(t.textContent=c),n=I(l),a=T(l,"P",{"data-svelte-h":!0}),D(a)!=="svelte-1fxghb2"&&(a.textContent=e),i=I(l),o=T(l,"H2",{"data-svelte-h":!0}),D(o)!=="svelte-1oups7d"&&(o.textContent=p),h=I(l),f=T(l,"P",{"data-svelte-h":!0}),D(f)!=="svelte-19wuz58"&&(f.textContent=C),v=I(l),E=T(l,"TABLE",{"data-svelte-h":!0}),D(E)!=="svelte-p7cc4"&&(E.innerHTML=L),P=I(l),nt(j.$$.fragment,l)},m(l,_){m(l,t,_),m(l,n,_),m(l,a,_),m(l,i,_),m(l,o,_),m(l,h,_),m(l,f,_),m(l,v,_),m(l,E,_),m(l,P,_),rt(j,l,_),$=!0},p:U,i(l){$||(dt(j.$$.fragment,l),$=!0)},o(l){ct(j.$$.fragment,l),$=!1},d(l){l&&(u(t),u(n),u(a),u(i),u(o),u(h),u(f),u(v),u(E),u(P)),it(j,l)}}}function xt(s){let t,c;const n=[s[0],tt];let a={$$slots:{default:[vt]},$$scope:{ctx:s}};for(let e=0;e<n.length;e+=1)a=F(a,n[e]);return t=new _t({props:a}),{c(){lt(t.$$.fragment)},l(e){nt(t.$$.fragment,e)},m(e,i){rt(t,e,i),c=!0},p(e,[i]){const o=i&1?ft(n,[i&1&&J(e[0]),i&0&&J(tt)]):{};i&2&&(o.$$scope={dirty:i,ctx:e}),t.$set(o)},i(e){c||(dt(t.$$.fragment,e),c=!0)},o(e){ct(t.$$.fragment,e),c=!1},d(e){it(t,e)}}}const tt={name:"metadata",layout:"page"};function Tt(s,t,c){return s.$$set=n=>{c(0,t=F(F({},t),z(n)))},t=z(t),[t]}class Ot extends at{constructor(t){super(),ot(this,t,Tt,xt,et,{})}}export{Ot as component};
