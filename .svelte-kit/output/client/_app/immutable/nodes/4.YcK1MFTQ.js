import{s as ae,f as k,t as S,a as L,h as j,j as E,k as U,d as f,c as D,y as B,i as w,l as $,F as oe,m as Q,n as V,G as F,o as re}from"../chunks/scheduler.DTRRIkUf.js";import{S as le,i as ne,c as H,a as I,m as q,t as z,b as A,d as G}from"../chunks/index.D5Z0Kk_0.js";import{P as se}from"../chunks/Page.CuZKmKth.js";import{e as y,t as ce}from"../chunks/Footer.D9dBuNsP.js";import{m as ie}from"../chunks/metadata.IaIeJ9MW.js";import{S as fe,m as me}from"../chunks/md.B8DPFE_V.js";function W(c,t,s){const a=c.slice();return a[4]=t[s],a}function X(c,t,s){const a=c.slice();return a[7]=t[s],a}function Y(c,t,s){const a=c.slice();return a[10]=t[s],a}function Z(c){let t,s=c[10]+"",a;return{c(){t=k("th"),a=S(s)},l(l){t=j(l,"TH",{});var e=E(t);a=U(e,s),e.forEach(f)},m(l,e){w(l,t,e),$(t,a)},p:V,d(l){l&&f(t)}}}function ee(c){let t,s=c[7]+"",a;return{c(){t=k("td"),a=S(s)},l(l){t=j(l,"TD",{});var e=E(t);a=U(e,s),e.forEach(f)},m(l,e){w(l,t,e),$(t,a)},p:V,d(l){l&&f(t)}}}function te(c){let t,s,a=y(Object.values(c[4])),l=[];for(let e=0;e<a.length;e+=1)l[e]=ee(X(c,a,e));return{c(){t=k("tr");for(let e=0;e<l.length;e+=1)l[e].c();s=L()},l(e){t=j(e,"TR",{});var i=E(t);for(let o=0;o<l.length;o+=1)l[o].l(i);s=D(i),i.forEach(f)},m(e,i){w(e,t,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(t,null);$(t,s)},p(e,i){if(i&2){a=y(Object.values(e[4]));let o;for(o=0;o<a.length;o+=1){const d=X(e,a,o);l[o]?l[o].p(d,i):(l[o]=ee(d),l[o].c(),l[o].m(t,s))}for(;o<l.length;o+=1)l[o].d(1);l.length=a.length}},d(e){e&&f(t),F(l,e)}}}function ue(c){let t,s=c[0].metadataTable+"",a,l,e,i,o,d,h,p,g,v=c[0].download+"",x,C,M,N,T=y(Object.keys(c[1][0])),m=[];for(let n=0;n<T.length;n+=1)m[n]=Z(Y(c,T,n));let R=y(c[1]),u=[];for(let n=0;n<R.length;n+=1)u[n]=te(W(c,R,n));return{c(){t=k("h2"),a=S(s),l=L(),e=k("div"),i=k("table"),o=k("tr");for(let n=0;n<m.length;n+=1)m[n].c();d=L();for(let n=0;n<u.length;n+=1)u[n].c();h=L(),p=k("div"),g=k("button"),x=S(v),C=S(" CSV"),this.h()},l(n){t=j(n,"H2",{});var _=E(t);a=U(_,s),_.forEach(f),l=D(n),e=j(n,"DIV",{class:!0});var r=E(e);i=j(r,"TABLE",{class:!0});var b=E(i);o=j(b,"TR",{});var J=E(o);for(let O=0;O<m.length;O+=1)m[O].l(J);J.forEach(f),d=D(b);for(let O=0;O<u.length;O+=1)u[O].l(b);b.forEach(f),r.forEach(f),h=D(n),p=j(n,"DIV",{class:!0});var K=E(p);g=j(K,"BUTTON",{class:!0});var P=E(g);x=U(P,v),C=U(P," CSV"),P.forEach(f),K.forEach(f),this.h()},h(){B(i,"class","metadata-table"),B(e,"class","metadata-table-container svelte-1zevmy"),B(g,"class","default-button"),B(p,"class","button-container")},m(n,_){w(n,t,_),$(t,a),w(n,l,_),w(n,e,_),$(e,i),$(i,o);for(let r=0;r<m.length;r+=1)m[r]&&m[r].m(o,null);$(i,d);for(let r=0;r<u.length;r+=1)u[r]&&u[r].m(i,null);w(n,h,_),w(n,p,_),$(p,g),$(g,x),$(g,C),M||(N=oe(g,"click",c[2]),M=!0)},p(n,[_]){if(_&1&&s!==(s=n[0].metadataTable+"")&&Q(a,s),_&2){T=y(Object.keys(n[1][0]));let r;for(r=0;r<T.length;r+=1){const b=Y(n,T,r);m[r]?m[r].p(b,_):(m[r]=Z(b),m[r].c(),m[r].m(o,null))}for(;r<m.length;r+=1)m[r].d(1);m.length=T.length}if(_&2){R=y(n[1]);let r;for(r=0;r<R.length;r+=1){const b=W(n,R,r);u[r]?u[r].p(b,_):(u[r]=te(b),u[r].c(),u[r].m(i,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=R.length}_&1&&v!==(v=n[0].download+"")&&Q(x,v)},i:V,o:V,d(n){n&&(f(t),f(l),f(e),f(h),f(p)),F(m,n),F(u,n),M=!1,N()}}}function _e(c,t,s){let a;re(c,ce,o=>s(0,a=o));let{metadata:l}=t;const e=l.map(o=>{const d={};for(let[h,p]of Object.entries(o))/^_/.test(h)||(d[h]=p);return d});function i(){const o=",";let d=[Object.keys(e[0]).join(o)];for(let g of e)d.push(Object.values(g).map(v=>new RegExp(`${o}`).test(v)?`"${v}"`:v).join(o));d=d.join(`
`);const h=document.createElement("a"),p=new Blob([d],{type:"text/plain"});h.href=URL.createObjectURL(p),h.download="metadata.csv",h.click(),URL.revokeObjectURL(h.href)}return c.$$set=o=>{"metadata"in o&&s(3,l=o.metadata)},[a,e,i,l]}class de extends le{constructor(t){super(),ne(this,t,_e,ue,ae,{metadata:3})}}function he(c){let t,s,a,l;return t=new fe({props:{source:c[0]}}),a=new de({props:{metadata:ie}}),{c(){H(t.$$.fragment),s=L(),H(a.$$.fragment)},l(e){I(t.$$.fragment,e),s=D(e),I(a.$$.fragment,e)},m(e,i){q(t,e,i),w(e,s,i),q(a,e,i),l=!0},p:V,i(e){l||(z(t.$$.fragment,e),z(a.$$.fragment,e),l=!0)},o(e){A(t.$$.fragment,e),A(a.$$.fragment,e),l=!1},d(e){e&&f(s),G(t,e),G(a,e)}}}function pe(c){let t,s;return t=new se({props:{$$slots:{default:[he]},$$scope:{ctx:c}}}),{c(){H(t.$$.fragment)},l(a){I(t.$$.fragment,a)},m(a,l){q(t,a,l),s=!0},p(a,[l]){const e={};l&2&&(e.$$scope={dirty:l,ctx:a}),t.$set(e)},i(a){s||(z(t.$$.fragment,a),s=!0)},o(a){A(t.$$.fragment,a),s=!1},d(a){G(t,a)}}}function ge(c){return[me.metadata.body]}class we extends le{constructor(t){super(),ne(this,t,ge,pe,ae,{})}}export{we as component};
